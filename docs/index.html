<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="mobile-web-app-capable" content="yes">
  <link rel="manifest" href="manifest.json">
  <title>Beacon Run</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;600&display=swap" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
  <script src="network.js"></script>
  <script src="contract.js"></script>
</head>
<body>

  <!-- Лого слева (кликабельно) -->
  <div class="logo" onclick="window.open('https://testnet.pharosnetwork.xyz/', '_blank')">
    <img src="img/pharos-logo.png" alt="Pharos Logo">
  </div>

  <!-- Кнопки справа сверху -->
  <div class="top-buttons">
    <button id="connectBtn"> Connect Wallet</button>
    <button id="leaderBtn"> Leaderboard</button>
    <button id="musicBtn" title="Click to enable music"> Music Off</button>
  </div>

  <!-- Заголовок -->
  <div class="title">
    <h1>Play Beacon Run</h1>
    <h2>Win Tokens</h2>
  </div>

  <!-- Видео-рамка -->
  <div class="video-frame">
    <video id="introVideo" autoplay loop muted playsinline preload="auto">
      <source src="video/intro.mp4" type="video/mp4">
      Your browser does not support the video tag.
    </video>
  </div>

  <!-- Start + соцсети -->
  <div class="start-container">
    <button id="startBtn" disabled> Start Game</button>
    <div id="walletStatus" style="margin-top:10px; color:#0ff; font-size:14px;"></div>
    <div id="mobileHint" style="display:none; margin-top:10px; color:#0ff; font-size:14px; opacity:0.8;">Mobile Controls: Swipe up to jump, left/right to move, diagonal for jump + move.</div>
    <div class="socials">
      <a href="https://twitter.com/pharos_network" target="_blank" class="social-btn">
        <img src="img/twitter.png" alt="Twitter" class="twitter-icon"> PHAROS_NETWORK
      </a>
      <a href="https://twitter.com/maysonkiller23" target="_blank" class="social-btn">
        <img src="img/twitter.png" alt="Twitter" class="twitter-icon"> Developer
      </a>
    </div>
  </div>

  <!-- Музыка -->
  <audio id="bgMusic" src="music/music.mp3" loop></audio>
  <script src="script.js"></script>
  <script>
    // Force video play on mobile touch
    const introVideo = document.getElementById("introVideo");
    document.addEventListener('touchstart', () => {
      introVideo.play().catch(() => {});
    }, { once: true });

    // Full screen on click (user gesture)
    document.addEventListener('click', () => {
      document.documentElement.requestFullscreen().catch(() => {});
    }, { once: true });

    // Orientation change to landscape
    window.addEventListener('orientationchange', () => {
      if (window.orientation === 0) { // Portrait
        alert("Please rotate to landscape for better experience");
      }
    });
  </script>
</body>
</html>